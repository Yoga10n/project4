import { link_checker } from '../src/client/js/link_checker';
import { text_truncate } from '../src/client/js/helpers';


describe("link_checker", () => {
    test("it should check if its a valid url", () => {
        expect(link_checker('https://www.google.com')).toBe(true);

    });
});

describe("text_truncate", () => {
    test("check if the para was cut to 500 Characters", () => {
        const text = `FinMin rubbishes ‘FORCE’ report proposing more income tax, Covid cess; says no one asked their opinion The government on Sunday rubbished the recommendation report prepared by tax officers associated with The Indian Revenue Service Association (IRSA) that talked about a host of measures to be taken to revive the economy impacted by the Covid-19 pandemic. Finance Ministry sources said that the government had never asked the association or any group of officers for any report on the subject. In fact, it was not even part of the officers’ duty to prepare this report, sources added. IRSA in a tweet on Sunday had also clarified that the policy measures suggested to the CBDT “does not purport to represent the official views of the entire IRS, or the IT Dept.” The report titled Fiscal Options & Response to Covid-19 Epidemic (FORCE), submitted to the Central Board of Direct Taxes (CBDT), had made multiple suggestions including taxing the super-rich, increasing the surcharge on foreign companies in India, levying additional one time cess of 4 per cent on account of Covid relief, incentivizing contribution to PM CARES Fund through tax incentives, introducing new tax saving scheme to mobilize more funds etc., as short term measures (three-six months) for revenue mobilization. Submitted by 50 IRS officers, the report said that high-income earners can be taxed through two alternative means for a limited or fixed period of time – “raising highest slab rate to 40 per cent for total income levels above a min. threshold of Rs 1 crore or re-introduction of the wealth tax for those with a net wealth of Rs 5 crores or more.” As opposed to surcharges, the paper noted that cess are more broad-based since they are levied on every taxpayer even as they are likely to mobilize more revenue as well. Hence, it recommended that “an additional one-time cess of 4 per cent on account of CovidRelief (could be called COVID Relief Cess) could help finance capital investment in COVID Relief work. The extra revenue mobilized on this account could be between Rs. 15000 – 18000 crores.” The current rate of cess is 4 per cent including 2 per cent health cess and 2 per cent education cess. Also read: Public’s desire for cash reserve amid lockdown, weak credit by banks push cash in hand to highest level Even though the donation made to PM CARES Fund are eligible for tax deduction under section 80G, the tax officers body asked for further incentivizing for taxpayers to contribute more into it. It suggested deduction to the fund and CM Relief Funds should be allowed as a deduction “over next few years (say, within a span of 3 years) instead of just in FY 2020-21, at the option of the assessee.” Among the mid-term, nine-12 months, measures for the government to mobilize revenue, according to IRSA, must include incentivizing compliance through tax discounts and rebates in percentage points “considering the genuine hardships faced by the taxpayers during this global crisis,” the note said. It also called for increasing the equalization levy, on foreign companies operating in India without a permanent base, following the Finance Bill, 2020 recently proposed to include earnings by e-commerce operators from their supply or services and tax at a rate of 2 per cent. “The increased business of these e-commerce/ online streaming/ web services companies provides an opportunity to increase the said tax rates by 1 per cent, that is, from 6 per cent to 7 per cent for ad services, and from 2 per cent to 3 per cent for e-commerce,” IRSA said in its recommendations. The equalization levy collected stood at Rs 550 crores for FY18 and Rs 939 crores for FY19. The increase in the levy is likely to contribute a “good amount” as users’ dependence on online commerce has let the online commerce or digital economy to flourish.`;
        const output = `FinMin rubbishes ‘FORCE’ report proposing more income tax, Covid cess; says no one asked their opinion The government on Sunday rubbished the recommendation report prepared by tax officers associated with The Indian Revenue Service Association (IRSA) that talked about a host of measures to be taken to revive the economy impacted by the Covid-19 pandemic. Finance Ministry sources said that the government had never asked the association or any group of officers for any report on the subject. In...`;
        expect(text_truncate(text, 500)).toMatch(output);

    });
});